#!/usr/bin/env bash
# Bash script that displays information about subdomains

domain() {
    if [ "$2" ]; then
        echo -n "The subdomain $2 is a"
        dig_result=$(dig "$2.$1" +short)
        if [ -n "$dig_result" ]; then
            echo " A record and points to $dig_result"
        else
            echo " No record found."
        fi
    else
        subdomains=("www" "lb-01" "web-01" "web-02")
        for sub in "${subdomains[@]}"; do
            echo -n "The subdomain $sub is a"
            dig_result=$(dig "$sub.$1" +short)
            if [ -n "$dig_result" ]; then
                echo " A record and points to $dig_result"
            else
                echo " No record found."
            fi
        done
    fi
}

# Main script starts here
if [ "$#" -eq 1 ]; then
    domain "$1"
elif [ "$#" -eq 2 ]; then
    domain "$1" "$2"
else
    echo "Usage: $0 domain [subdomain]"
    exit 1
fi

